(()=>{var e={138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AB:()=>r,ABA:()=>s,BA:()=>n});const r="AB",n="BA",s="ABA"},199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{data:()=>o,userData:()=>u});const{AB:r,BA:n,ABA:s}=a(138),o=[{id:r,name:"из A в B",route:{1:"August 21, 2021 18:00:00",2:"August 21, 2021 18:30:00",3:"August 21, 2021 18:45:00",4:"August 21, 2021 19:00:00",5:"August 21, 2021 19:15:00",6:"August 21, 2021 21:00:00"},cost:700,time:50},{id:n,name:"из B в A",route:{1:"August 21, 2021 18:30:00",2:"August 21, 2021 18:45:00",3:"August 21, 2021 19:00:00",4:"August 21, 2021 19:15:00",4:"August 21, 2021 19:35:00",4:"August 21, 2021 21:50:00",6:"August 21, 2021 21:55:00"},cost:700,time:50},{id:s,name:"из A в B и обратно",cost:1200}],u={route:"",tickets:0,startTimeStamp:0,finishTimeStamp:0}},173:(e,t,a)=>{"use strict";a.r(t),a.d(t,{changeContent:()=>m,createSelect:()=>l,getRelevantData:()=>c,getResult:()=>A,setValue:()=>g,showSecondSelector:()=>d});const{modifyTime:r}=a(658),{AB:n,ABA:s,BA:o}=a(138),{data:u,userData:i}=a(199),c=(e,t=0)=>{let a=u.filter((t=>t.id===e))[0].route,n=Object.values(a);return n=n.map((e=>r(e))),n=n.filter((e=>e[0]>=t)),n},l=(e,t)=>{const a=c(e),r=document.createElement("select");return r.classList.add(t),r.id="time",r.innerHTML=a.map(((e,t)=>`<option ${0===t?"selected":""} value=${+e[0]}>${e[1]}</option>`)),r},m=(e,t,a)=>{const r=document.querySelector(t),n=c(o,+e+6e4*a);r.innerHTML=n.map(((e,t)=>`<option ${0===t?"selected":""} value=${+e[0]}>${e[1]}</option>`)),g(0,r.value)},d=e=>{const t=document.querySelector(".calc-time-block");let a,r;t.innerHTML="",e!==n&&e!==o||(a=l(e,e+"-time"),g(a.value,a.value),t.append(a)),e===s&&(a=l(n,"ABA-first-time"),g(a.value),r=l(o,"ABA-second-time"),t.append(a),t.append(r),m(a.value,".ABA-second-time",u[0].time))},g=(e,t)=>{const a=6e4*u[0].time;i.startTimeStamp=e?+e:i.startTimeStamp,i.finishTimeStamp=t?+t+a:i.finishTimeStamp},A=()=>{const e=document.querySelector(".calc-result");e.innerHTML="";const t=+i.finishTimeStamp-+i.startTimeStamp,a=u.filter((e=>e.id===i.route))[0].cost,n=i.tickets*a,s=u.filter((e=>e.id===i.route))[0].name,o=r(+i.startTimeStamp,!0),c=r(+i.finishTimeStamp,!0),l=`${new Date(t).getUTCHours()} ч ${new Date(t).getMinutes()} минут`,m=document.createElement("div");m.classList.add("info"),m.innerHTML=`Вы выбрали ${i.tickets} билетов по маршруту ${s} стоимостью ${n}р.\n        Это путешествие займет у вас ${l}. \n        Теплоход отправляется в ${o}, а прибудет в ${c}`,e.append(m)}},658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{modifyTime:()=>r});const r=(e,t)=>{const a=`${e+3}`,r=e=>`${new Date(e).getHours()}:${new Date(e).getMinutes().toString().padStart(2,"0")}`;return t?r(e):[`${new Date(a).getTime()}`,r(a)]}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const{getRelevantData:e,createSelect:t,changeContent:r,showSecondSelector:n,setValue:s,getResult:o}=a(173),{userData:u,data:i}=a(199);document.addEventListener("change",(e=>{e.target.closest("#route")&&(n(e.target.value),u.route=e.target.value),e.target.closest(".ABA-first-time")&&(r(e.target.value,".ABA-second-time",i[0].time),s(e.target.value,0)),e.target.closest(".ABA-second-time")&&s(0,e.target.value),e.target.closest(".AB-time")&&s(e.target.value,e.target.value),e.target.closest(".BA-time")&&s(e.target.value,e.target.value)})),document.addEventListener("input",(e=>{e.target.closest(".num")&&(e.target.value=e.target.value.replace(/[^0-9]/g,""),u.tickets=e.target.value)})),document.addEventListener("click",(e=>{e.target.closest(".button")&&o()})),document.addEventListener("DOMContentLoaded",(e=>{const t=document.getElementById("route").value;u.route=t,n(t)}))})()})();